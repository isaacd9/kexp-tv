<?xml version="1.0" encoding="utf-8" ?>
<component name="TrackDisplay" extends="LayoutGroup">
    <interface>
        <field id = "tracks" type = "array" onchange="updateTracks" />
    </interface>

	<children>
          <PlaylistItem id="prev_prev_track" opacity=".2" />
          <PlaylistItem id="prev_track" opacity=".4" />
          <PlaylistItem id="cur_track" />
          <CommentLabel id="comment"
          wrap="true"
          width="500"
          font = "font:SmallSystemFont"
          />
	</children>
<!-- BrightScript Portion -->
<script type="text/brightscript" >
<![CDATA[
  function init()
    m.top.layoutDirection="vert"
    m.top.itemSpacings="[20]"
  end function

  function updateTracks()
    cur_track = m.top.findNode("cur_track")
    prev_track = m.top.findNode("prev_track")
    prev_prev_track = m.top.findNode("prev_prev_track")
    cur_track.metadata = m.top.tracks[0]
    prev_track.metadata = m.top.tracks[1]
    prev_prev_track.metadata = m.top.tracks[2]

    commentText = ""
    if type(m.top.tracks[0].comment) <> "Invalid"
      commentText = m.top.tracks[0].comment
    end if

    comment = m.top.findNode("comment")
    comment.originalText = commentText

  end function
]]>
</script>
<!-- End of BrightScript Portion -->
</component>
